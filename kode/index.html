<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

<h1>Nettside</h1>


<h2>Oprette arbeidsoppgave</h2>

<form onsubmit="createNewProduct(event)">
    <div>
        <label>Navn:
            <div><input name="name" placeholder="Navn pÃ¥ arbeidsoppgave" /></div>
        </label>
    </div>
    <div>
        <input type="submit" />
    </div>
</form>
<script>
function createNewProduct(event) {
    //event.preventDefault();
    
alert("EY");
    
    // Find an element with attribute "name" as "name". In this case <input name="name" placeholder="Product ..."
    // and retrives the .value - what the user wrote in the <input>
    const name = document.querySelector("[name='name']").value;
    
    // Object construction shorthand - this is the same as writing
    //const product = {
    //    name: name,
    //    price: price, ...
    //};
    // Which again could be written as:
    //const product = {};
    //product.name = name;
    // product.price = price;
    // etc.
    const task = {name};
    
    // Get the STRING item with the key "productList" from localStorage and parse (interpret) it into an object array
    const taskList = JSON.parse(window.localStorage.getItem("taskList")) || [];
    // Add the new product to the productList
    taskList.push(task);
    // "stringify" the productList back into a String and write it back to LocalStorage
    window.localStorage.setItem("taskList", JSON.stringify(taskList));
}
</script>
</body>
</html>